<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/styles.css">
    <title>Gestion des Catways</title>
</head>


<body>


    <h1>Gestion des Catways</h1>


    <header>
        <nav>
            <!-- Bouton Burger (visible uniquement sur PC) -->
            <div class="burger-menu" id="burger-menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
        
            <!-- Menu qui sera caché par défaut (mobile) et affiché lors du clic sur le bouton burger -->
            <ul class="nav-links" id="nav-links">
                <li><a href="/dashboard">Tableau de Bord</a></li>
                <li><a href="/catways">Gestion des Catways</a></li>
                <li><a href="/reservations">Gestion des Réservations</a></li>
                <li><a href="/users">Gestion des Utilisateurs</a></li>
                <li><a href="/api-docs">Documentation API</a></li>
                <li><a href="/logout" class="logout-button">Se Déconnecter</a></li>
            </ul>
        </nav>
        
    </header>
    
    
    <table border="1">
      <thead>
          <tr>
              <th>Numéro</th>
              <th>Type</th>
              <th>État</th>
              <th>Actions</th>
          </tr>
      </thead>
      <tbody>
          <% if (catways.length > 0) { %>
              <% catways.forEach(catway => { %>
                  <tr>
                      <td><%= catway.catwayNumber %></td> <!-- Ce champ doit correspondre au modèle -->
                      <td><%= catway.catwayType %></td>
                      <td><%= catway.catwayState %></td>
                      <td>
                          <!-- Lien pour afficher les détails -->
                          <a href="/catways/<%= catway._id %>" class="button details">Détails</a>
                          
                          <!-- Lien ou formulaire pour modifier l'état -->
                          <a href="/catways/<%= catway._id %>/edit" class="button">Modifier l'état</a>

                          <!-- Formulaire de suppression -->
                          <form method="POST" action="/catways/<%= catway._id %>?_method=DELETE" style="display:inline;">
                              <button>Supprimer</button>
                          </form>
                      </td>
                  </tr>
              <% }); %>
          <% } else { %>
              <tr>
                  <td colspan="4">Aucun catway trouvé.</td>
              </tr>
          <% } %>
      </tbody>
  </table>

    <h2>Ajouter un nouveau Catway</h2>
    <!-- Formulaire d'ajout -->
    <form method="POST" action="/catways">
      <label>
        Numéro :
        <input type="text" name="catwayNumber" required>
      </label>
      <br>
      <label>
        Type :
        <select name="catwayType" required>
          <option value="" disabled selected>Choisissez un type</option>
          <option value="long">Long</option>
          <option value="short">Short</option>
        </select>
      </label>
      <br>
      <label>
        État :
        <input type="text" name="catwayState" required>
      </label>
      <br>
      <button type="submit">Ajouter</button>
    </form>
    <script>
        // Sélection des éléments HTML
        const burgerMenu = document.getElementById("burger-menu");
        const navLinks = document.getElementById("nav-links");
    
        // Ajout d'un événement de clic pour ouvrir/fermer le menu
        burgerMenu.addEventListener("click", () => {
            navLinks.classList.toggle("active");
        });
    </script>




</body>
</html>
